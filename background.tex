  \section{Theoretical Background}

\subsection{Rigid Body Kinematics}
	A rigid body is a model of a solid object whose deformation is assumed to be negligible. The distance between every pair of points on the body remains constant. Because such a body does not deform, knowledge of the orientation and position of a single point constitutes knowledge of the position and orientation of all points. The position of the rigid body is thus defined as the position of a single point in the body, most commonly its centre of mass. The orientation can be defined using a set of coordinate axes fixed to the body.
	The theory of Lie groups will be used to describe the kinematics of rigid bodies on this report.
			
	\subsubsection{Lie Groups}		
		A Lie group $\mathbf{G}$ is a group that is also a differentiable manifold.
		As a group, $\mathbf{G}$ is a set of elements and a group operation. This group operation is a binary operation that combines two elements and is denoted by multiplication: $AB$ for $A,B \in \mathbf{G}$. Because it is a group, $\mathbf{G}$ satisfies the 4 group axioms:
		\begin{itemize}
		\item \textbf{Closure:} 
			The group operation
			$\mathbf{G} \times \mathbf{G} \mapsto \mathbf{G}$ 
			is a function that maps elements of $\mathbf{G}$ onto itself;
			$\forall A,B \in \mathbf{G}$, $AB \in \mathbf{G}$.
		\item \textbf{Associativity:} Elements of G are associative under the group operation;
			$\forall A,B,C \in \mathbf{G}$, $(AB)C=A(BC)$.
		\item \textbf{Identity:} There exists an identity element $I \in \mathbf{G}$  such that
			$\forall A \in \mathbf{G}$, $IA = AI = A$.
		\item \textbf{Inverse:} For all $A \in \mathbf{G}$ there exists an inverse element $A^{-1} \in \mathbf{G}$ such that $AA^{-1}=A^{-1}A=I$. 
		\end{itemize}
		
		Because the Lie group $\mathbf{G}$ is a differentiable manifold, it is locally Euclidean. This means that the neighbourhood around every element of $\mathbf{G}$ can be approximated with a tangent plane. This property allows calculus to be performed on elements of $\mathbf{G}$.
		
		\textbf{Matrix Lie groups}\\
			A matrix Lie group $\mathbf{G} \in \mathbf{GL}(n)$ is made up of group elements which are $n \times n$ matrices.
			This work will focus on matrix Lie groups because the exponential map and Lie bracket functions given below only apply to such Lie groups.
		
		\textbf{Lie algebra}\\
			The tangent space at the identity element of a Lie group is called the Lie algebra $\mathfrak{g}$. It is called the Lie \textit{algebra} because it has a binary operation, known as the Lie bracket $[X,Y]$. For matrix Lie groups the Lie bracket is
			\begin{equation}
				[A,B] \stackrel{\Delta}{=} AB-BA
			\end{equation}
			
		\textbf{The exponential map and logarithm map}\\		
			The mapping from the Lie algebra $\mathfrak{g}$ to the Lie group $\mathbf{G}$ is called the exponential map:
			\begin{equation}
				\exp: \mathfrak{g} \rightarrow \mathbf{G}
			\end{equation}			
			Similarly, the logarithm map maps elements from $\mathbf{G}$ to $\mathfrak{g}$:
			\begin{equation}
				\log: \mathbf{G} \rightarrow \mathfrak{g}
			\end{equation}
			For matrix Lie groups, the exponential map and logarithm map correspond to matrix exponential and matrix logarithm respectively.
						
		\textbf{Infinitesimal generators}\\
			For an \textit{n}-dimensional matrix Lie group, the Lie algebra $\mathfrak{g}$ is a vector space isomorphic to $\mathbb{R}^n$. The hat operator $\hat{\:}$ maps vectors $x \in \mathbb{R}^3$ to elements of $\mathfrak{g}$.				
			\begin{equation}
				\hat{\:}: x \in \mathbb{R}^n \rightarrow \hat{x} \in \mathfrak{g}
			\end{equation}		
			For a matrix Lie group $\mathbf{G}$ whose elements are $\textit{n} \times \textit{n}$ matrices, the elements of $\mathfrak{g}$ will also be $\textit{n} \times \textit{n}$ matrices. The hat operator is defined
			\begin{equation}
				\hat{x} = \sum\limits_{i=1}^n x_iG^i 
			\end{equation}
			where $G^i$ are $\textit{n} \times \textit{n}$ matrices known as the infinitesimal generators of $\mathbf{G}$.
						
		\textbf{Lie bracket and group operation}\\					
			For Lie groups endowned with the commutative property ($\forall A,B \in \mathbf{G}, AB = BA$), vector addition in the Lie algebra maps to a group operation in the Lie group. For $C = A + B$ where $A,B,C \in \mathfrak{g}$,
			\begin{equation}
				e^C = e^{A+B} = e^Ae^B
			\end{equation}
			For non-commutative Lie groups, the relationship between the Lie bracket and group operation does not hold. Instead, for $C = \log{e^Ae^B}$, $C$ is calculated with the Baker-Campbell-Hausdorff formula:
			\begin{equation}
				C = A + B + \frac{1}{2}[A,B] + \frac{1}{12}[A-B,[A,B]] + \frac{1}{24}[B,[A,[A,B]]] + \dots
			\end{equation}	
		
		\textbf{Actions}\\
			When a group action for a Lie group G acting on a manifold $M$ is a differentiable map, this is known as a Lie group action. For example, 3D rotations act on 3D points so the Lie group $\mathbf{SO}(3)$ acts on $\mathbb{R}^3$. A left action of $\mathbf{G}$ on $M$ is defined as a differentiable map
			\begin{equation}
				\Phi: \mathbf{G} \times M \mapsto M
			\end{equation}
			where
			\begin{itemize}
			\item the identity element $I$ maps M onto itself *(is that the right wording?)
				\begin{equation}
					\Phi(I,m) = m \textnormal{, } \forall m \in M
				\end{equation}
			\item Group actions compose according to
				\begin{equation}
					\Phi(m,\Phi(n,o)) = \Phi(mn,o)
				\end{equation}
			\end{itemize}
			
		\textbf{Adjoint map}\\		
		EXPLANATION???\\
		For $A \in \mathbf{G}$ and $B \in ?$ define a function $\Psi$, known as the adjoint map of $\mathbf{G}$:
		\begin{equation}
			\Psi_A: \mathbf{G} \rightarrow \mathbf{G} \textnormal{, }
			\Psi_A(B) \stackrel{\Delta}{=} ABA^{-1}
		\end{equation}
		Taking the derivative:
		\begin{equation}
			\frac{\partial}{\partial t} \Psi_A(B(t))|_{t=0} = AVA^{-1} \textnormal{, }
			V \stackrel{\Delta}{=} 	\frac{\partial}{\partial t}B(t)|_{t=0}
		\end{equation}
		The adjoint	representation of $\mathbf{G}$ is given by the mapping
		\begin{equation}
			\textbf{Adj}_A: \mathfrak{g} \rightarrow \mathfrak{g} \textnormal{, }
			\textbf{Adj}_A(V) \stackrel{\Delta}{=} AVA^{-1}
		\end{equation}
	
		
	\subsubsection{\textbf{SO}(3)}	
		A rotation represents the motion of a point about the origin of a Euclidean space. In $\mathbb{R}^3$ this is a proper isometry: a transformation that preserves distances between any pair of points and has a determinant of +1. The set of all rotations about the origin of $\mathbb{R}^3$ is known as the \textit{special orthogonal group} $\textbf{SO}(3)$.
		Group elements of $\textbf{SO}(3)$ can be represented using a special subset of $3 \times 3$ invertible matrices and in this case, forms a matrix Lie group. Several rotation representations are described in REF, but the theory presented below only applies to matrix Lie groups which rely on the rotation matrix representation for group elements.
		
		\textbf{Lie algebra}\\
		The Lie algebra $\mathfrak{so}(3)$ is vector space whose elements correspond to an angular velocity. These elements can be represented with $3 \times 3$ skew-symmetric matrices $[\bm{\omega}]_{\times}$, where $\bm{\omega}$ is a 3-vector representing an angular velocity.
		Elements of $\mathfrak{so}(3)$ are mapped to $\textbf{SO}(3)$ according to the exponential map:
		\begin{equation}
			\begin{split}
				\exp: \mathfrak{so}(3) \rightarrow \mathbf{SO}(3)\\
				[\bm{\omega}]_\times \rightarrow \mathbf{R}_{3x3}
			\end{split}		
		\end{equation}		
		i.e. $\forall \omega \in \mathfrak{so}(3) \textnormal{, } \exp([\omega]_\times) \in  \mathbf{SO}(3)$
		
		Conversely, the logarithm map maps $3 \times 3$ rotation matrices of $\mathbf{SO}(3)$ to elements of $\mathfrak{so}(3)$:
		\begin{equation}
			\begin{split}
				\log: \mathbf{SO}(3) \rightarrow \mathfrak{so}(3)\\
				 \mathbf{R}_{3x3} \rightarrow [\bm{\omega}]_\times
			\end{split}		
		\end{equation}		
		i.e. $\forall \mathbf{R} \in \mathbf{SO}(3)  \textnormal{, } \log(\mathbf{R}) \in  \mathfrak{so}(3)$
				
		\textbf{Actions}\\
		By the group action, elements of $\mathbf{SO}(3)$ rotate points in $\mathbb{R}^3$ about the origin. 
		\begin{equation}
			\Phi: \mathbf{SO}(3) \times \mathbf{R}^3 \mapsto \mathbf{R}^3
		\end{equation}
		
		\textbf{Adjoint map}\\
		EXPLANATION???? Hard to explain practical application without discussing reference frames: ie if position defined in body fixed frame but some other transformation defined in inertial frame. First undo rotation to get pose in inertial frame, apply transformation, then re-apply rotation.
		\begin{equation}
			\Psi_R: \mathbf{SO}(3) \rightarrow \mathbf{SO}(3) \textnormal{, }
			\Psi_R(A) \stackrel{\Delta}{=} RAR^{-1}
		\end{equation}
		Taking the derivative:
		\begin{equation}
			\frac{\partial}{\partial t} \Psi_R(A(t))|_{t=0} = RBR^{-1} \textnormal{, }
			B \stackrel{\Delta}{=} 	\frac{\partial}{\partial t}A(t)|_{t=0}
		\end{equation}
		The adjoint	representation of $\mathbf{SO}(3)$ is given by the mapping
		\begin{equation}
			\textbf{Adj}_R: \mathfrak{so}(3) \rightarrow \mathfrak{so}(3) \textnormal{, }
			\textbf{Adj}_R(B) \stackrel{\Delta}{=} RBR^{-1}
		\end{equation}
		
		\textbf{Rotation representations}\\		
		There are many conventions by which elements of $\mathbf{SO}(3)$ can be represented. The representations that will be used in this report are described below.
		
		\textbf{Rotation matrices}\\
		A 3D rotation matrix $\mathbf{R}$ is an orthogonal $3 \times 3$ matrix with a determinant of +1. Since $\mathbf{R}$ is orthogonal, its columns and rows are respectively sets of orthogonal unit vectors and
		\begin{equation}
			\mathbf{R}^{-1} = \mathbf{R}^{T}
		\end{equation}		
		The group operation using rotation matrices is simply a matrix multiplication which concatenates the two rotations. The product of two rotation matrices $\mathbf{R}_3 = \mathbf{R}_2\mathbf{R}_1$ is a rotation matrix corresponding to left multiplication by $\mathbf{R}_1$ followed by $\mathbf{R}_2$.
		
		The left action of a rotation matrix $\mathbf{R}$ on a point $\mathbf{p} \in \mathbb{R}^3$ is a left matrix multiplication that rotates $\mathbf{p}$ about the origin.
		
		\textbf{Scaled-axis representation}\\
		An orientation in $\mathbf{R}^3$ can also be represented by a 3-vector $\bm{\theta}$ whose direction $\mathbf{r}$ represents the axis of rotation and magnitude $\theta$ represents the angle of rotation.
		\begin{equation}
			\bm{\theta} = \theta\mathbf{r}
		\end{equation}
		
		Though scaled-axis vectors are not typically used to perform rotations, Rodrigues' rotation formula efficiently converts scaled-axis vectors to rotation matrices:
		\begin{equation}
			\mathbf{R}_{\bm{\theta}} = \mathbf{I} + [\mathbf{r}]_{\times}\sin{\theta} + ([\mathbf{r}]_{\times})^2(1-\cos{\theta})
		\end{equation}
					
		Elements of $\mathfrak{so}(3)$ are typically represented with a scaled-axis vector $\bm{\omega}$ where the magnitude $|\bm{\omega}|$ corresponds to the angular velocity about the axis $\bm{\omega}/|\bm{\omega}|$.
					
		\textbf{Rotation quaternions}\\
		Quaternions are an extension of complex numbers. The set of unit quaternions can be used to represent $\mathbf{SO}(3)$, and will be referred to as rotation quaternions. 
		A rotation quaternion $\mathbf{q}$ is a 4-tuple of real numbers that encode the same information as axis angle. $\mathbf{q}$ is often described in terms of its first element $w$ - the scalar part, and the remaining elements $x,y$ and $z$ - the vector part. Given an axis of rotation $\mathbf{r}$ and an angle of rotation $\theta$:
		\begin{equation}
			\mathbf{q} = 
			\begin{bmatrix}
				w \\
				x \\
				y \\
				z
			\end{bmatrix}
			 = 
			 \begin{bmatrix}
 				w \\
 				\mathbf{v}
			 \end{bmatrix}
			 =
			 \begin{bmatrix}
			 	\cos(\theta/2) \\
			 	\sin(\theta/2)\mathbf{r}
			 \end{bmatrix}
		\end{equation}
		In general, the quaternion inverse is given by
		\begin{equation}
			\mathbf{q}^{-1} = 
			\frac{1}{w^2 + x^2 + y^2 + z^2}
		 	\begin{bmatrix*}[r]
				 w \\
				-x \\
				-y \\
				-z
			\end{bmatrix*}
		\end{equation}
		For unit magnitude rotation quaternions the inverse represents a rotation by $-\theta$ and is given by
		\begin{equation}
			\mathbf{q}^{-1} = 
			\begin{bmatrix}
			 	\cos(\theta/2) \\
			 	-\sin(\theta/2)\mathbf{r}
		 	\end{bmatrix} =
		 	\begin{bmatrix}
				w \\
				-x \\
				-y \\
				-z
			\end{bmatrix}
		\end{equation}
		
		The group operation is performed with quaternion multiplication which is defined:
		\begin{equation}
			\mathbf{q}_1\mathbf{q}_2 =
			\begin{bmatrix}
			 	w_1 \\
			 	\mathbf{v}_1
			\end{bmatrix} 
			\begin{bmatrix}
			 	w_2 \\
			 	\mathbf{v}_2
			\end{bmatrix} 
			=
			\begin{bmatrix}
			 	w_1w_2 - \mathbf{v}_1 \cdot \mathbf{v}_2 \\
			 	w_1\mathbf{v}_2 + w_2\mathbf{v}_1 + \mathbf{v}_1 \times \mathbf{v}_2
			\end{bmatrix} 
		\end{equation} 
		As with rotation matrices, quaternion multiplication is associative but not commutative.
		
		The group action rotates a point $\mathbf{p} \in \mathbb{R}^3$  to $\mathbf{p}'$ by embedding it as the vector part of a quaternion and using a conjugation operation with $\mathbf{q}$:
		formula for rotating vector:
		\begin{equation}
			\begin{bmatrix}
			 	0\\
			 	\mathbf{p'}
			\end{bmatrix}
			= \mathbf{q}
			\begin{bmatrix}
			 	0\\
			 	\mathbf{p}
			\end{bmatrix}
			\mathbf{q}^{-1}
		\end{equation}
		
	\subsubsection{\textbf{SE}(3)}	
		The special Euclidean group $\textbf{SE}(3)$ represents rigid transformation in $\mathbb{R}^3$. This is a matrix Lie group whose elements are the set of all rigid transformations in $\mathbb{R}^3$ and can be represented with $4 \times 4$ matrices of the form
		\begin{equation}
			\textbf{X} = 
			\begin{bmatrix}
				  \mathbf{R}	&	\mathbf{p} \\
				  \textbf{0}_{1 \times 3}		& 	1 
			\end{bmatrix}
		\end{equation}
		where $\mathbf{R} \in \mathbf{SO}(3)$ and 
		$\mathbf{p} = 
		\begin{bmatrix}
			p_x	& p_y & p_z				
		\end{bmatrix}
		^\top \in \mathbb{R}^3$.
		
		$\textbf{SE}(3)$ is a semidirect product of $\textbf{SO}(3)$ and $ \mathbb{R}^3$. As its group elements contain a rotation matrix and translation vector, $\textbf{SE}(3)$ has 6 degrees of freedom and is a 6-dimensional manifold.
			
		\textbf{Lie algebra}\\
		The Lie algebra $\mathfrak{se}(3)$ is a vector space whose elements are $4 \times 4$ matrices of the form
		\begin{equation}
			\begin{bmatrix}
				  [\mathbf{\omega}]_\times	&  \mathbf{v}\\
				  \textbf{0}_{1 \times 3} & 0						  
			\end{bmatrix}
		\end{equation}
		where $\mathbf{\omega} =
		\begin{bmatrix}
			\omega_x & \omega_y & \omega_z				
		\end{bmatrix}
		^\top \in \mathbf{so}(3)$, representing an angular velocity in scaled axis representation, and
		$\mathbf{v} = 
		\begin{bmatrix}
			v_x & v_y & v_z				
		\end{bmatrix}
		^\top \in T_{\mathbf{p}}\mathbb{R}^3$, representing a linear velocity vector.
		
		Elements of $\mathfrak{se}(3)$ are mapped to $\textbf{SE}(3)$ according to the exponential map:
			\begin{equation}
				\begin{split}
					\exp: \mathfrak{se}(3) \rightarrow \mathbf{SE}(3)\\
					\begin{bmatrix}
						  [\mathbf{\omega}]_\times	&  \mathbf{v}\\
						  \textbf{0}_{1 \times 3} & 0						  
					\end{bmatrix}
					\rightarrow 
					\begin{bmatrix}
						  \mathbf{R}	&	\mathbf{p} \\
						  \textbf{0}_{1 \times 3}		& 	1 
					\end{bmatrix}
				\end{split}		
			\end{equation}		
			i.e. $\forall \mathbf{T} \in \mathfrak{se}(3) \textnormal{, } \exp(\mathbf{T}) \in  \mathbf{SE}(3)$
			
			Conversely, the logarithm map maps elements of $\mathbf{SE}(3)$ to elements of $\mathfrak{se}(3)$:
			\begin{equation}
				\begin{split}
					\log: \mathbf{SE}(3) \rightarrow \mathfrak{se}(3)\\
					\begin{bmatrix}
						\mathbf{R}	&	\mathbf{p} \\
						\textbf{0}_{1 \times 3}		& 	1 					 				  
					\end{bmatrix}
					\rightarrow 
					\begin{bmatrix}
					 	[\mathbf{\omega}]_\times	&  \mathbf{v}\\
					 	\textbf{0}_{1 \times 3} & 0			
					\end{bmatrix}
				\end{split}		
			\end{equation}		
			i.e. $\forall \mathbf{S} \in \mathbf{SE}(3)  \textnormal{, } \log(\mathbf{S}) \in  \mathfrak{se}(3)$
		
		\textbf{Actions}\\
		$\mathbf{SE}(3)$ group elements acts to perform a rigid transformation on points in $\mathbb{R}^3$. This corresponds to a rotation about the origin and a translation.
		To apply a transformation using the $4 \times 4$ matrix elements of $\mathbf{SE}(3)$ to a point $\textbf{p} = (x,y,z) $ in $\mathbb{R}^3$, the point must be represented with homogeneous coordinates: (is $p'$ okay for homogeneous points? $\hat{\:}$ is already used for skew-symmetric matrix)
		\begin{equation}
			\mathbf{p'} = 
			\begin{bmatrix}
				  \mathbf{p} \\
				  1	
			\end{bmatrix} =
			\begin{bmatrix}
				  x	\\
				  y	\\
				  z	\\
				  1	
			\end{bmatrix}
		\end{equation}
		The left group action of $\mathbf{SE}(3)$ is now simply a left matrix multiplication of $\mathbf{p}$:
		\begin{equation}
			\mathbf{p'}_1 = \mathbf{S}\mathbf{p'}_0 = 
			\begin{bmatrix}
				\mathbf{R}	&	\mathbf{p} \\
				\textbf{0}_{1 \times 3}		& 	1 					 				  
			\end{bmatrix}
			\begin{bmatrix}
				\mathbf{p}_0 \\
				1	
			\end{bmatrix}
			=
			\begin{bmatrix}
				\mathbf{R}\mathbf{p}_0 + \mathbf{p}\\
				1	
			\end{bmatrix}
		\end{equation}
				
		\textbf{Adjoint Map}\\
		EXPLANATION\\
		The adjoint map of $\mathbf{SE}(3)$ is
		\begin{equation}
			\Psi_S: \mathbf{SE}(3) \rightarrow \mathbf{SE}(3) \textnormal{, }
			\Psi_S(A) \stackrel{\Delta}{=} SAS^{-1}
		\end{equation}
		Taking the derivative:
		\begin{equation}
			\frac{\partial}{\partial t} \Psi_S(A(t))|_{t=0} = SBS^{-1} \textnormal{, }
			B \stackrel{\Delta}{=} 	\frac{\partial}{\partial t}A(t)|_{t=0}
		\end{equation}
		The adjoint	representation of $\mathbf{SE}(3)$ is given by the mapping
		\begin{equation}
			\textbf{Adj}_S: \mathfrak{se}(3) \rightarrow \mathfrak{se}(3) \textnormal{, }
			\textbf{Adj}_S(B) \stackrel{\Delta}{=} SBS^{-1}
		\end{equation}
		
	\subsubsection{Reference Frames}
		A reference frame is a system of coordinates that is used to uniquely identify points on a manifold. This report will deal with reference frames on $\mathbb{R}^3$, that are used both to define the position of a point and the pose of a rigid body in 3D space.
		Such a reference frame is represented by an element of \textbf{SE}(3).
		
		Consider three different reference frames, denoted \{A\},\{B\} and \{C\}.
		The notation $^{A}_{B}\mathbf{X}^{}_{C}$ defines the transformation in $\mathbf{X}$ of the reference frame \{C\} with respect to the frame \{B\}, defined in the frame \{A\}.
		
		For example, $^{A}_{B}\mathbf{R}^{}_{C}$ defines the rotation of \{C\} with respect to \{B\}, defined in \{A\}.
		
		The notion of an inertial reference frame is introduced here. This will be defined as a reference frame that is stationary for the purpose of the problem being described. 
		
		Figure \ref{fig:frames} shows...
		\input{Figures/fig_referenceframes}
		
		\textbf{Pose:}\\
		The pose of a rigid body in a given reference frame is defined by its relative position and orientation with respect to the given reference frame and is represented by an element of \textbf{SE}(3). If a rigid body has orientation aligned with a reference frame \{C\} and position at the origin of \{C\}, then the pose of the rigid body with respect to \{B\} and defined in \{A\} is:
		\begin{equation}
			{^{A}_{B}\mathbf{S}^{}_{C}} = 
			\begin{bmatrix}
				^{A}_{B}\mathbf{R}^{}_{C}	& 	^{A}_{B}\mathbf{p}^{}_{C}\\
				\textbf{0}_{1 \times 3} & 1						  
			\end{bmatrix}
		\end{equation}		
		
		\textbf{Point:}\\
		A point $\mathbf{p} \in \mathbb{R}^3$ in the frame \{A\} is denoted $^A\mathbf{p}$ and is expressed as a 3-vector of the weights used to compose it from the basis vectors of \{A\}.
		\begin{equation}
			^{A}\mathbf{p} = 
			\begin{bmatrix}
				^{A}x \\
				^{A}y \\
				^{A}z
			\end{bmatrix}
		\end{equation}
		
		\textbf{Homogeneous coordinates:}\\
		To be acted on by an element of $\mathbf{SE}(3)$, a point must be expressed in homogeneous coordinates:
		\begin{equation}
			^{A}\mathbf{p'} = 
			\begin{bmatrix}
				^{A}\mathbf{p} \\
				1
			\end{bmatrix}
		\end{equation}
		
		\textbf{Defining a point in terms of another reference frame:}\\
		Consider a point in $\mathbb{R}^3$ defined as the position of the frame \{B\} with respect to the frame \{A\}, defined in terms of the frame \{B\}. To redefine the point in terms of \{A\}, the left action of ${^{A}_{A}\mathbf{S}^{}_{B}} \in \mathbf{SE}(3)$ is used:
		\begin{equation}
			^{A}\mathbf{p'} = {^{A}_{A}\mathbf{S}^{}_{B}}\:^{B}\mathbf{p'}
		\end{equation}
		
		\textbf{Concatenating poses:}\\
		Multiply relative poses.
		\begin{equation}
			{^{A}_{A}\mathbf{X}^{}_{C}} = {^{A}_{A}\mathbf{X}^{}_{B}}\:{^{B}_{B}\mathbf{X}^{}_{C}}
		\end{equation}
		
		\textbf{Defining a pose in terms of another reference frame:}\\
		To define a pose transformation matrix in terms of a different reference frame, a matrix conjugation is used:
		\begin{equation}
			{^{B}_{C}\mathbf{X}^{}_{D}} = ({^{B}_{B}\mathbf{X}^{}_{A}})\:{^{A}_{C}\mathbf{X}^{}_{D}}\:({^{B}_{B}\mathbf{X}^{}_{A}})^{-1}
		\end{equation}

		\textbf{Inverse:}\\
		Taking the inverse of a pose transformation matrix has the effect of reversing the transformation, but does not alter the frame that the transformation is defined in terms of.
		\begin{equation}
			({^{A}_{B}\mathbf{X}^{}_{C}})^{-1} = {^{A}_{C}\mathbf{X}^{}_{B}}
		\end{equation}
	
	\subsubsection{Rigid Body State Representation} \label{state rep}
		The state of a rigid body moving through 3D space can be represented by its linear and angular position, velocity and acceleration. Higher derivatives could be taken but will be ignored for simplicity.
		The inertial frame is denoted \{F\} and a frame \{A\} is fixed to the pose of the moving body.
		
		The pose of the body with respect to the inertial frame at time $t$, defined in the inertial frame is represented by the screw matrix ${^{F}_{F}\mathbf{S}^{}_{A}(t)} \in \mathbf{SE}(3)$,
		\begin{equation}
				{^{F}_{F}\mathbf{S}^{}_{A}(t)} = 
				\begin{bmatrix}
						  ^{F}_{F}\mathbf{R}^{}_{A}(t) 	& 	^{F}_{F}\mathbf{p}^{}_{A}(t)\\
						  \textbf{0}_{1 \times 3} & 1						  
				\end{bmatrix}
		\end{equation}
		where $^{F}_{F}\mathbf{R}^{}_{A}(t) \in \mathbf{SO}(3)$ is a rotation matrix, and the position $^{F}_{F}\mathbf{p}^{}_{A}(t) \in \mathbb{R}^3$.
		
		The linear and angular velocity of the body at time $t$ with respect to the inertial frame, defined in the body-fixed frame, is represented by the twist matrix ${^{A}_{F}\mathbf{T}^{}_{A}(t)} \in \mathfrak{se}(3)$,
		\begin{equation}
				{^{A}_{F}\mathbf{T}^{}_{A}(t)} = 
				\begin{bmatrix}
		  {[^{A}_{F}\mathbf{\omega}^{}_{A}(t)]_\times} 	& 	^{A}_{F}\mathbf{v}^{}_{A}(t)\\
		  \textbf{0}_{1 \times 3} & 0						  
				\end{bmatrix}
		\end{equation}
		where $^{A}_{F}\mathbf{\omega}^{}_{A}(t) \in \mathfrak{so}(3)$ is an angular velocity in the scaled-axis representation, and the linear velocity is $^{A}_{F}\mathbf{v}^{}_{A}(t) \in T\mathbb{R}^3$.
				
		The linear and angular acceleration of the body at time $t$ with respect to the inertial frame, defined in the body-fixed frame, is represented by the wrench matrix ${^{A}_{F}\mathbf{W}^{}_{A}(t)} \in T\mathfrak{se}(3)$,
		\begin{equation}
				{^{A}_{F}\mathbf{W}^{}_{A}(t)} = 
				\begin{bmatrix}
				  {[^{A}_{F}\mathbf{\alpha}^{}_{A}(t)]_\times} 	& 	^{A}_{F}\mathbf{a}^{}_{A}(t)\\
				  \textbf{0}_{1 \times 3} & 0						  
				\end{bmatrix}
		\end{equation}
		where $^{A}_{F}\mathbf{\alpha}^{}_{A}(t) \in  T\mathfrak{so}(3)$ is an angular acceleration in the scaled-axis representation, and the linear acceleration is $^{A}_{F}\mathbf{a}^{}_{A}(t) \in T^2\mathbb{R}^3$.
						
		*From now on, will not show frames in notation. This is how S,T,W will be defined unless explicitly stated otherwise.
						
	\subsubsection{Rigid Body Kinematics} \label{kinematics}
		The dynamics of the screw, twist and wrench matrices as they are defined in \ref{state rep} is governed by the following ODEs,
		\begin{equation}
			{\frac{\textnormal{d}}{\textnormal{d}t}} \mathbf{S}(t) =\mathbf{S}(t)\mathbf{T}(t)
		\end{equation}		
		\begin{equation}
			{\frac{\textnormal{d}}{\textnormal{d}t}} \mathbf{T}(t) = \mathbf{W}(t)
		\end{equation}		
		\begin{equation}
			{\frac{\textnormal{d}}{\textnormal{d}t}} \mathbf{W}(t)=\mathbf{f}(t)			
		\end{equation}
		where the function $\mathbf{f}(t)$ is known.
		
	\subsubsection{Scanning Laser Rangefinder Dynamic Model}
		A scanning laser rangefinder fixed to a moving rigid body. State is same as moving rigid body defined above (S,T,W)\\+\\
		Unit vector defined in the body fixed frame  - ${^{A}\mathbf{d}(t)} \in T\mathbb{R}^3$.\\+\\
		Range $r(t) \in \mathbb{R}^{0+}$, defining range from $^{F}_{F}\mathbf{p}^{}_{A}(t)$ to nearest object in environment in direction ${^{F}\mathbf{d}(t)} = {^{F}_{F}\mathbf{R}^{}_{A}(t)}\:{^{A}\mathbf{d}(t)}$
		
		Scan direction in sensor frame is vector rotating at constant speed about $z$-axis, with unit size inside sensor's field-of-view and zero size outside it. Measurements returned at regular, discrete times - when $t$ is an integer multiple of $\delta\tau$:
		\begin{equation}
		^{A}\mathbf{d}(t) =
			\begin{cases} 
			      \hfill \begin{bmatrix}
			      		\cos(-\theta + 2\pi t') \\
			      		-\sin(-\theta + 2\pi t') \\
			      		0
			      	\end{bmatrix}    \hfill & \text{ if $t' \leq \theta/pi$, $t' = k\delta\tau$ where $k \in \mathbb{N}$} \\
			      \hfill \mathbf{0} \hfill & \text{ if $t' > \theta/pi$, $t' \neq k\delta\tau$ where $k \in \mathbb{N}$} \\
			\end{cases} 
		\end{equation}
		where
		\begin{equation}
		t' = \mod(t,1/d\theta)\:d\theta
		\end{equation}
		
		*$\theta_0$ is start of FOV, $t'=X$ at end of FOV

\subsection{Symmetry Preserving Observers}
	\subsubsection{definitions?}
	\subsubsection{construction, ie moving frame method etc}
\subsection{Infinite Dimensional Observers}
\subsection{Discretisation Methods?}