

\begin{figure}
	\tdplotsetmaincoords{60}{-10}
	\begin{tikzpicture} [scale = 3,tdplot_main_coords] %fix main coords!!!

		%Frame {F}
		\draw [thick,->](0, 0, 0)--(-1, 0, 0) node[anchor=east]{$y$};
		\draw [thick,->](0, 0, 0)--(0, 1, 0) node[anchor=east]{$x$};
		\draw [thick,->](0, 0, 0)--(0, 0, 1) node[anchor=south]{$z$};
		\node at (0.1,-0.5,0) {\{F\}};

		%ground truth cube lines
		\tdplotsetrotatedcoords{0}{0}{0}
		\coordinate (Shift) at (0,7.5,0);
		\tdplotsetrotatedcoordsorigin{(Shift)}
		\draw [tdplot_rotated_coords] (-1,-1,-1)--(-1,-1, 1);   %1-2
		\draw [tdplot_rotated_coords] (-1,-1,-1)--(-1, 1,-1);   %1-3
		\draw [tdplot_rotated_coords] (-1,-1,-1)--( 1,-1,-1);   %1-5
		\draw [tdplot_rotated_coords] (-1,-1, 1)--(-1, 1, 1);   %2-4
		\draw [tdplot_rotated_coords] (-1,-1, 1)--( 1,-1, 1);   %2-6	
		\draw [tdplot_rotated_coords] (-1, 1,-1)--(-1, 1, 1);   %3-4 	 
		\draw [tdplot_rotated_coords] (-1, 1,-1)--( 1, 1,-1);   %3-7	
		\draw [tdplot_rotated_coords] (-1, 1, 1)--( 1, 1, 1);   %4-8 
		\draw [tdplot_rotated_coords] ( 1,-1,-1)--( 1,-1, 1);   %5-6	
		\draw [tdplot_rotated_coords] ( 1,-1,-1)--( 1, 1,-1);   %5-7 
		\draw [tdplot_rotated_coords] ( 1,-1, 1)--( 1, 1, 1);   %6-8 
		\draw [tdplot_rotated_coords] ( 1, 1,-1)--( 1, 1, 1);   %7-8 
				
		%ground truth cube lines
		\tdplotsetrotatedcoords{0}{0}{0}
		\coordinate (Shift) at (-0.75,6.75,0.75);
		\tdplotsetrotatedcoordsorigin{(Shift)}
		\def \size {1.75}
		\draw [blue,tdplot_rotated_coords] (-1*\size,-1*\size,-1*\size)--(-1*\size,-1*\size, 1*\size);   %1-2
		\draw [blue,tdplot_rotated_coords] (-1*\size,-1*\size,-1*\size)--(-1*\size, 1*\size,-1*\size);   %1-3
		\draw [blue,tdplot_rotated_coords] (-1*\size,-1*\size,-1*\size)--( 1*\size,-1*\size,-1*\size);   %1-5
		\draw [blue,tdplot_rotated_coords] (-1*\size,-1*\size, 1*\size)--(-1*\size, 1*\size, 1*\size);   %2-4
		\draw [blue,tdplot_rotated_coords] (-1*\size,-1*\size, 1*\size)--( 1*\size,-1*\size, 1*\size);   %2-6	
		\draw [blue,tdplot_rotated_coords] (-1*\size, 1*\size,-1*\size)--(-1*\size, 1*\size, 1*\size);   %3-4 	 
		\draw [blue,tdplot_rotated_coords] (-1*\size, 1*\size,-1*\size)--( 1*\size, 1*\size,-1*\size);   %3-7	
		\draw [blue,tdplot_rotated_coords] (-1*\size, 1*\size, 1*\size)--( 1*\size, 1*\size, 1*\size);   %4-8 
		\draw [blue,tdplot_rotated_coords] ( 1*\size,-1*\size,-1*\size)--( 1*\size,-1*\size, 1*\size);   %5-6	
		\draw [blue,tdplot_rotated_coords] ( 1*\size,-1*\size,-1*\size)--( 1*\size, 1*\size,-1*\size);   %5-7 
		\draw [blue,tdplot_rotated_coords] ( 1*\size,-1*\size, 1*\size)--( 1*\size, 1*\size, 1*\size);   %6-8 
		\draw [blue,tdplot_rotated_coords] ( 1*\size, 1*\size,-1*\size)--( 1*\size, 1*\size, 1*\size);   %7-8 

		%measurement lines
		\def \linescale {1.25}
		\draw [dashed,red,->] (0,0,0)--(-0.5*\linescale,6.5*\linescale,0.5*\linescale);
		\draw [dashed,red,->] (0,0,0)--(-0.8*\linescale,6.5*\linescale,0.5*\linescale);
		\draw [dashed,red,->] (0,0,0)--(-0.5*\linescale,6.5*\linescale,0.8*\linescale);	
		\draw [dashed,red,->] (0,0,0)--(-0.8*\linescale,6.5*\linescale,0.8*\linescale);
		
		%intersection points
		\def \measscale {1}
		\node [draw,circle,inner sep=1pt,fill] at (-0.5*\measscale,6.5*\measscale,0.5*\measscale) {};
		\node [draw,circle,inner sep=1pt,fill] at (-0.8*\measscale,6.5*\measscale,0.5*\measscale) {};
		\node [draw,circle,inner sep=1pt,fill] at (-0.5*\measscale,6.5*\measscale,0.8*\measscale) {};
		\node [draw,circle,inner sep=1pt,fill] at (-0.8*\measscale,6.5*\measscale,0.8*\measscale) {};
		\def \predscale {6.75/7.5}
		\node [draw,blue,circle,inner sep=1pt,fill] at (-0.5*\predscale,6.5*\predscale,0.5*\predscale) {};
		\node [draw,blue,circle,inner sep=1pt,fill] at (-0.8*\predscale,6.5*\predscale,0.5*\predscale) {};
		\node [draw,blue,circle,inner sep=1pt,fill] at (-0.5*\predscale,6.5*\predscale,0.8*\predscale) {};
		\node [draw,blue,circle,inner sep=1pt,fill] at (-0.8*\predscale,6.5*\predscale,0.8*\predscale) {};
		
		%update vector
		\node [draw,blue,circle,inner sep=2pt,fill] at (-0.65*\predscale,6.5*\predscale,0.65*\predscale) {};
		\node [draw,black,circle,inner sep=2pt,fill] at (-0.65*\measscale,6.5*\measscale,0.65*\measscale) {};
		\draw [thick,green] (-0.65*\measscale,6.5*\measscale,0.65*\measscale)--(-0.65*\predscale,6.5*\predscale,0.65*\predscale);
		\node [black] at (-0.5,6.5*\measscale,0.65) {$\tilde{\bm{\mu}}_\mathbf{p}$};
		\node [blue] at (-0.45,6.5*\predscale,0.6) {$\hat{\bm{\mu}}_\mathbf{p}$};
		%\node [green] at (-0.45,7,0.55) {$\bar{\mathbf{p}}_{update}$};	
		
		%labels
		\node [red] at (-0.4,9.25,0.05) {${^{A}\mathbf{s}(ii)}$};
		\node [red] at (-1.1,9.25,0.05) {${^{A}\mathbf{s}(ii-1)}$};
		\node [red] at (-0.2,9.25,0.4) {${^{A}\mathbf{s}(ii-n_{scans})}$};	
		\node [red] at (-1.2,9.25,0.5) {${^{A}\mathbf{s}(ii-1-n_{scans})}$};
		\node [black] at (1.2,7.5,1.5) {measured};		
		\node [blue] at (1.3,9.5,2) {predicted};
		
	\end{tikzpicture}
	  \caption{caption}
	  \label{fig:size2}
\end{figure}



