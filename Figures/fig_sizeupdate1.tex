

\begin{figure}
	\tdplotsetmaincoords{60}{-10}
	\begin{tikzpicture} [scale = 3,tdplot_main_coords] %fix main coords!!!

		%Frame {F}
		\draw [thick,->](0, 0, 0)--(-1, 0, 0) node[anchor=east]{$y$};
		\draw [thick,->](0, 0, 0)--(0, 1, 0) node[anchor=west]{$x$};
		\draw [thick,->](0, 0, 0)--(0, 0, 1) node[anchor=south]{$z$};
		\node at (0.1,-0.5,0) {\{F\}};

		%ground truth cube lines
		\tdplotsetrotatedcoords{0}{0}{0}
		\coordinate (Shift) at (0,7.5,0);
		\tdplotsetrotatedcoordsorigin{(Shift)}
		\draw [blue,tdplot_rotated_coords] (-1,-1,-1)--(-1,-1, 1);   %1-2
		\draw [blue,tdplot_rotated_coords] (-1,-1,-1)--(-1, 1,-1);   %1-3
		\draw [blue,tdplot_rotated_coords] (-1,-1,-1)--( 1,-1,-1);   %1-5
		\draw [blue,tdplot_rotated_coords] (-1,-1, 1)--(-1, 1, 1);   %2-4
		\draw [blue,tdplot_rotated_coords] (-1,-1, 1)--( 1,-1, 1);   %2-6	
		\draw [blue,tdplot_rotated_coords] (-1, 1,-1)--(-1, 1, 1);   %3-4 	 
		\draw [blue,tdplot_rotated_coords] (-1, 1,-1)--( 1, 1,-1);   %3-7	
		\draw [blue,tdplot_rotated_coords] (-1, 1, 1)--( 1, 1, 1);   %4-8 
		\draw [blue,tdplot_rotated_coords] ( 1,-1,-1)--( 1,-1, 1);   %5-6	
		\draw [blue,tdplot_rotated_coords] ( 1,-1,-1)--( 1, 1,-1);   %5-7 
		\draw [blue,tdplot_rotated_coords] ( 1,-1, 1)--( 1, 1, 1);   %6-8 
		\draw [blue,tdplot_rotated_coords] ( 1, 1,-1)--( 1, 1, 1);   %7-8 
				
		%ground truth cube lines
		\tdplotsetrotatedcoords{0}{0}{0}
		\coordinate (Shift) at (-0.5,8,0.5);
		\tdplotsetrotatedcoordsorigin{(Shift)}
		\def \size {1.5}
		\draw [red,tdplot_rotated_coords] (-1*\size,-1*\size,-1*\size)--(-1*\size,-1*\size, 1*\size);   %1-2
		\draw [red,tdplot_rotated_coords] (-1*\size,-1*\size,-1*\size)--(-1*\size, 1*\size,-1*\size);   %1-3
		\draw [red,tdplot_rotated_coords] (-1*\size,-1*\size,-1*\size)--( 1*\size,-1*\size,-1*\size);   %1-5
		\draw [red,tdplot_rotated_coords] (-1*\size,-1*\size, 1*\size)--(-1*\size, 1*\size, 1*\size);   %2-4
		\draw [red,tdplot_rotated_coords] (-1*\size,-1*\size, 1*\size)--( 1*\size,-1*\size, 1*\size);   %2-6	
		\draw [red,tdplot_rotated_coords] (-1*\size, 1*\size,-1*\size)--(-1*\size, 1*\size, 1*\size);   %3-4 	 
		\draw [red,tdplot_rotated_coords] (-1*\size, 1*\size,-1*\size)--( 1*\size, 1*\size,-1*\size);   %3-7	
		\draw [red,tdplot_rotated_coords] (-1*\size, 1*\size, 1*\size)--( 1*\size, 1*\size, 1*\size);   %4-8 
		\draw [red,tdplot_rotated_coords] ( 1*\size,-1*\size,-1*\size)--( 1*\size,-1*\size, 1*\size);   %5-6	
		\draw [red,tdplot_rotated_coords] ( 1*\size,-1*\size,-1*\size)--( 1*\size, 1*\size,-1*\size);   %5-7 
		\draw [red,tdplot_rotated_coords] ( 1*\size,-1*\size, 1*\size)--( 1*\size, 1*\size, 1*\size);   %6-8 
		\draw [red,tdplot_rotated_coords] ( 1*\size, 1*\size,-1*\size)--( 1*\size, 1*\size, 1*\size);   %7-8 

		%measurement lines
		\def \linescale {1.25}
		\draw [dashed,black,->] (0,0,0)--(-0.5*\linescale,6.5*\linescale,0.5*\linescale);
		\draw [dashed,black,->] (0,0,0)--(-1.5*\linescale,6.5*\linescale,0.5*\linescale);
		\draw [dashed,black,->] (0,0,0)--(-0.5*\linescale,6.5*\linescale,1.5*\linescale);	
		\draw [dashed,black,->] (0,0,0)--(-1.5*\linescale,6.5*\linescale,1.5*\linescale);
		
		%intersection points
		\def \measscale {1}
		\node [draw,blue,circle,inner sep=1pt,fill] at (-0.5*\measscale,6.5*\measscale,0.5*\measscale) {};
		%\node [draw,blue,circle,inner sep=1pt,fill] at (-1.5*\measscale,6.5*\measscale,0.5*\measscale) {};
		%\node [draw,blue,circle,inner sep=1pt,fill] at (-0.5*\measscale,6.5*\measscale,1.5*\measscale) {};
		%\node [draw,blue,circle,inner sep=1pt,fill] at (-1.5*\measscale,6.5*\measscale,1.5*\measscale) {};
		\def \predscale {1}
		\node [draw,red,circle,inner sep=1pt,fill] at (-0.5*\predscale,6.5*\predscale,0.5*\predscale) {};
		\node [draw,red,circle,inner sep=1pt,fill] at (-1.5*\predscale,6.5*\predscale,0.5*\predscale) {};
		\node [draw,red,circle,inner sep=1pt,fill] at (-0.5*\predscale,6.5*\predscale,1.5*\predscale) {};
		\node [draw,red,circle,inner sep=1pt,fill] at (-1.5*\predscale,6.5*\predscale,1.5*\predscale) {};
		
		%update vector
		\node [draw,red,circle,inner sep=2pt,fill] at (-1*\predscale,6.5*\predscale,1*\predscale) {};
		\node [draw,blue,circle,inner sep=2pt,fill] at (-0.5*\measscale,6.5*\measscale,0.5*\measscale) {};
		\draw [green,->] (-1*\predscale,6.5*\predscale,1*\predscale)--(-0.5*\measscale,6.5*\measscale,0.5*\measscale);
		\node [red] at (-0.85,6.5*\predscale,1.05) {$\hat{\bm{\mu}}_\mathbf{p}$};
		\node [blue] at (-0.35,6.5*\measscale,0.5) {$\tilde{\bm{\mu}}_\mathbf{p}$};
		\node [green] at (-0.5,7,0.55) {$\mathbf{p}_{update}$};		

		%labels
		\node [black] at (-0.4,9.25,0.1) {${^{F}\mathbf{d}(ii)}$};
		\node [black] at (-1.6,9.25,0.1) {${^{F}\mathbf{d}(ii-1)}$};
		\node [black] at (-0.2,9.25,1.3) {${^{F}\mathbf{d}(ii-n_{scans})}$};	
		\node [black] at (-1.3,9.25,1.3) {${^{F}\mathbf{d}(ii-1-n_{scans})}$};
		\node [blue] at (1.2,7.5,1.5) {measured};		
		\node [red] at (1.3,9.5,2) {predicted};
				
	\end{tikzpicture}
	  \caption{caption}
	  \label{fig:size1}
\end{figure}



